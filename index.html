<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data Analytics Training Platform</title>

  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Icon Components
    const Clock = ({ size = 24, className = "" }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <circle cx="12" cy="12" r="10" />
        <polyline points="12 6 12 12 16 14" />
      </svg>
    );

    const DollarSign = ({ size = 24, className = "" }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <line x1="12" y1="1" x2="12" y2="23" />
        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
      </svg>
    );

    const Award = ({ size = 24, className = "" }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <circle cx="12" cy="8" r="7" />
        <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88" />
      </svg>
    );

    const Calendar = ({ size = 24, className = "" }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
        <line x1="16" y1="2" x2="16" y2="6" />
        <line x1="8" y1="2" x2="8" y2="6" />
        <line x1="3" y1="10" x2="21" y2="10" />
      </svg>
    );

    const CheckCircle = ({ size = 24, className = "" }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
        <polyline points="22 4 12 14.01 9 11.01" />
      </svg>
    );

    const Circle = ({ size = 24, className = "" }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
        <circle cx="12" cy="12" r="10" />
      </svg>
    );

    // Main App Component
    function DataAnalyticsTraining() {
      const [user, setUser] = useState({
        name: "",
        hourlyRate: 0,
        totalHours: 0,
        totalEarnings: 0,
        currentWeek: 1,
        startDate: null,
        hasStarted: false,
        completedTasks: [],
        weeklyHours: { 1: 0, 2: 0, 3: 0, 4: 0 }
      });

      const [session, setSession] = useState({
        clockedIn: false,
        startTime: null,
        currentSessionHours: 0
      });

      const [view, setView] = useState("welcome");
      const [userName, setUserName] = useState("");
      const [currentTask, setCurrentTask] = useState(null);
      const [taskAnswer, setTaskAnswer] = useState("");
      const [showFeedback, setShowFeedback] = useState(false);
      const [isCorrect, setIsCorrect] = useState(false);

      // Assessment Questions
      const questions = [
        { q: "What is the primary purpose of data analytics?", options: ["To make data look pretty", "To extract insights from data to inform decisions", "To collect as much data as possible", "To create databases"], correct: 1 },
        { q: "Which tool is commonly used for data visualization?", options: ["Microsoft Word", "Excel/Charts", "Notepad", "Email"], correct: 1 },
        { q: "What does 'cleaning data' mean?", options: ["Deleting all data", "Removing errors, duplicates, and inconsistencies", "Making spreadsheets colorful", "Printing data"], correct: 1 },
        { q: "A pivot table is used to:", options: ["Send emails", "Summarize and analyze large datasets", "Create presentations", "Store passwords"], correct: 1 },
        { q: "What is a data trend?", options: ["Random numbers", "A pattern or direction in data over time", "The newest data", "Data that looks nice"], correct: 1 },
        { q: "Which is an example of quantitative data?", options: ["Customer satisfaction comments", "Sales revenue in dollars", "Product color preferences", "Employee feedback"], correct: 1 },
        { q: "What does 'average' mean in data analysis?", options: ["The highest value", "The sum of values divided by count", "The most common value", "The difference between values"], correct: 1 },
        { q: "Why is data accuracy important?", options: ["It makes reports longer", "Decisions based on bad data lead to bad outcomes", "It's not important", "It makes work harder"], correct: 1 },
        { q: "What is the first step when analyzing a new dataset?", options: ["Create a chart immediately", "Understand what the data represents", "Delete half the data", "Email it to someone"], correct: 1 },
        { q: "A dashboard in data analytics is:", options: ["The front of a car", "A visual display of key metrics and data", "A type of database", "A cleaning tool"], correct: 1 }
      ];

      // Paste CHUNK 2 below this line. Do not add extra <script> tags.
      
// 160 HOURS TOTAL
      const allTasks = [
        // ========== WEEK 1 - 40 HOURS ==========
        // MONDAY - 8 hours
        { id: 'w1d1t1', week: 1, day: 'Monday', title: 'Introduction to the Dataset', hours: 2,
          description: 'Review the Q4 sales dataset and familiarize yourself with the data structure.',
          instructions: 'Examine the dataset below. Identify the columns, data types, and what each field represents.',
          data: [['Date', 'Product', 'Region', 'Sales', 'Units'],
                 ['10/1/2024', 'Laptop', 'North', '1200', '3'],
                 ['10/1/2024', 'Mouse', 'South', '45', '15'],
                 ['10/2/2024', 'Keyboard', 'East', '180', '12'],
                 ['10/2/2024', 'Laptop', 'West', '2400', '6'],
                 ['10/3/2024', 'Monitor', 'North', '600', '4']],
          question: 'How many columns are in this dataset?', answer: '5',
          feedback: 'Correct! There are 5 columns: Date, Product, Region, Sales, and Units.' },

        { id: 'w1d1t2', week: 1, day: 'Monday', title: 'Data Cleaning - Remove Duplicates', hours: 3,
          description: 'Clean the customer data by identifying and removing duplicate entries.',
          instructions: 'Look at the dataset below. Some customer records appear more than once.',
          data: [['Customer ID', 'Name', 'Email'], ['C001', 'John Smith', 'john@email.com'], ['C002', 'Mary Jones', 'mary@email.com'], ['C001', 'John Smith', 'john@email.com'], ['C003', 'Bob Wilson', 'bob@email.com'], ['C002', 'Mary Jones', 'mary@email.com']],
          question: 'How many duplicate records need to be removed?', answer: '2',
          feedback: 'Correct! C001 and C002 each appear twice, so 2 duplicates need removal.' },

        { id: 'w1d1t3', week: 1, day: 'Monday', title: 'Sort Data by Sales Amount', hours: 3,
          description: 'Sort the sales data to identify top performers.',
          instructions: 'Review the sales data. Which product has the HIGHEST total sales?',
          data: [['Product', 'Sales'], ['Laptop', '1200'], ['Mouse', '45'], ['Keyboard', '180'], ['Monitor', '3600'], ['Tablet', '890']],
          question: 'Which product has the highest sales?', answer: 'Monitor', feedback: 'Correct! Monitor has the highest sales at $3,600.' },

        { id: 'w1d2t1', week: 1, day: 'Tuesday', title: 'Filter Data by Region', hours: 2.5,
          description: 'Filter sales data to analyze specific regions.',
          instructions: 'Look at the sales data. How many sales occurred in the North region?',
          data: [['Date', 'Product', 'Region', 'Sales'], ['10/1/2024', 'Laptop', 'North', '1200'], ['10/1/2024', 'Mouse', 'South', '45'], ['10/2/2024', 'Keyboard', 'North', '180'], ['10/2/2024', 'Laptop', 'West', '2400'], ['10/3/2024', 'Monitor', 'North', '600']],
          question: 'How many transactions occurred in the North region?', answer: '3', feedback: 'Correct! There are 3 transactions in the North region.' },

        { id: 'w1d2t2', week: 1, day: 'Tuesday', title: 'Calculate Total Sales', hours: 3,
          description: 'Calculate the total sales across all transactions.',
          instructions: 'Add up all the sales values in the dataset below.',
          data: [['Product', 'Sales'], ['Laptop', '1200'], ['Mouse', '45'], ['Keyboard', '180'], ['Monitor', '600'], ['Tablet', '890']],
          question: 'What is the total sales amount?', answer: '2915', feedback: 'Correct! Total sales = $2,915.' },

        { id: 'w1d2t3', week: 1, day: 'Tuesday', title: 'Calculate Average Sales', hours: 2.5,
          description: 'Find the average sales value per transaction.',
          instructions: 'Calculate the average of the sales values in the data.',
          data: [['Product', 'Sales'], ['Laptop', '1200'], ['Mouse', '45'], ['Keyboard', '180'], ['Monitor', '600'], ['Tablet', '890']],
          question: 'What is the average sales value? (Round to nearest whole number)', answer: '583', feedback: 'Correct! Average = 2915 ÷ 5 = 583.' },

        { id: 'w1d3t1', week: 1, day: 'Wednesday', title: 'Identify Top Product', hours: 3,
          description: 'Analyze which product generated the most revenue.',
          instructions: 'Review the data and determine which product has the highest total sales.',
          data: [['Product', 'Q1', 'Q2', 'Q3', 'Q4'], ['Laptop', '5000', '6000', '5500', '7000'], ['Mouse', '1200', '1100', '1300', '1400'], ['Monitor', '8000', '8500', '9000', '9500']],
          question: 'Which product has the highest TOTAL sales across all quarters?', answer: 'Monitor', feedback: 'Correct! Monitor total = $35,000 (highest of all products).' },

        { id: 'w1d3t2', week: 1, day: 'Wednesday', title: 'Count Products by Category', hours: 2.5,
          description: 'Group and count products by their category.',
          instructions: 'Count how many products are in the Electronics category.',
          data: [['Product', 'Category'], ['Laptop', 'Electronics'], ['Desk', 'Furniture'], ['Mouse', 'Electronics'], ['Chair', 'Furniture'], ['Keyboard', 'Electronics'], ['Monitor', 'Electronics']],
          question: 'How many products are in the Electronics category?', answer: '4', feedback: 'Correct! 4 Electronics: Laptop, Mouse, Keyboard, Monitor.' },

        { id: 'w1d3t3', week: 1, day: 'Wednesday', title: 'Sales Trend Analysis', hours: 2.5,
          description: 'Identify the sales trend over time.',
          instructions: 'Look at monthly sales. Are sales increasing, decreasing, or staying stable?',
          data: [['Month', 'Sales'], ['January', '10000'], ['February', '12000'], ['March', '15000'], ['April', '18000']],
          question: 'What is the sales trend? (answer: increasing, decreasing, or stable)', answer: 'increasing', feedback: 'Correct! Sales increase each month from $10k to $18k.' },

        { id: 'w1d4t1', week: 1, day: 'Thursday', title: 'Revenue per Unit Calculation', hours: 3,
          description: 'Calculate the revenue generated per unit sold.',
          instructions: 'Calculate the price per unit for the Laptop (Sales ÷ Units).',
          data: [['Product', 'Sales', 'Units'], ['Laptop', '2400', '6'], ['Mouse', '180', '12'], ['Monitor', '1600', '4']],
          question: 'What is the price per unit for the Laptop?', answer: '400', feedback: 'Correct! $2,400 ÷ 6 units = $400 per unit.' },

        { id: 'w1d4t2', week: 1, day: 'Thursday', title: 'Identify Underperforming Region', hours: 2.5,
          description: 'Determine which region has the lowest sales.',
          instructions: 'Review regional sales and identify the lowest performing region.',
          data: [['Region', 'Total Sales'], ['North', '15000'], ['South', '8000'], ['East', '18000'], ['West', '22000']],
          question: 'Which region has the lowest sales?', answer: 'South', feedback: 'Correct! South has the lowest sales at $8,000.' },

        { id: 'w1d4t3', week: 1, day: 'Thursday', title: 'Customer Purchase Frequency', hours: 2.5,
          description: 'Analyze how often customers make purchases.',
          instructions: 'Count how many times customer C002 made a purchase.',
          data: [['Date', 'Customer', 'Amount'], ['10/1', 'C001', '100'], ['10/2', 'C002', '150'], ['10/3', 'C002', '200'], ['10/4', 'C003', '75'], ['10/5', 'C002', '300']],
          question: 'How many purchases did customer C002 make?', answer: '3', feedback: 'Correct! C002 made 3 purchases (10/2, 10/3, 10/5).' },

        { id: 'w1d5t1', week: 1, day: 'Friday', title: 'Weekly Performance Report', hours: 4,
          description: 'Create a summary of the week\'s key metrics.',
          instructions: 'Based on the weekly data, what was the total revenue?',
          data: [['Day', 'Revenue'], ['Monday', '5000'], ['Tuesday', '6200'], ['Wednesday', '5800'], ['Thursday', '7100'], ['Friday', '6900']],
          question: 'What is the total weekly revenue?', answer: '31000', feedback: 'Correct! Total weekly revenue = $31,000.' },

        { id: 'w1d5t2', week: 1, day: 'Friday', title: 'Best Day Analysis', hours: 2,
          description: 'Identify which day of the week performed best.',
          instructions: 'Which day had the highest revenue?',
          data: [['Day', 'Revenue'], ['Monday', '5000'], ['Tuesday', '6200'], ['Wednesday', '5800'], ['Thursday', '7100'], ['Friday', '6900']],
          question: 'Which day had the highest revenue?', answer: 'Thursday', feedback: 'Correct! Thursday had the highest revenue at $7,100.' },

        { id: 'w1d5t3', week: 1, day: 'Friday', title: 'Week 1 Summary Review', hours: 2,
          description: 'Review your learning from the week.',
          instructions: 'Count the total number of tasks in Week 1.',
          question: 'How many tasks are in Week 1?', answer: '15', feedback: 'Correct! You completed 15 tasks this week. Great work!' },

        // ========== WEEK 2 - 40 HOURS ==========
        { id: 'w2d1t1', week: 2, day: 'Monday', title: 'Customer Segmentation Analysis', hours: 3,
          description: 'Group customers by purchase behavior.',
          instructions: 'Count how many high-value customers (purchases over $1000) are in the data.',
          data: [['Customer', 'Total Purchases'], ['Alice', '1500'], ['Bob', '800'], ['Carol', '2200'], ['David', '600'], ['Eve', '1100']],
          question: 'How many customers made purchases over $1000?', answer: '3', feedback: 'Correct! Alice ($1500), Carol ($2200), and Eve ($1100) are high-value customers.' },

        { id: 'w2d1t2', week: 2, day: 'Monday', title: 'Month-over-Month Growth', hours: 2.5,
          description: 'Calculate growth rate between periods.',
          instructions: 'What is the revenue increase from January to February?',
          data: [['Month', 'Revenue'], ['January', '50000'], ['February', '55000']],
          question: 'What is the dollar amount increase from January to February?', answer: '5000', feedback: 'Correct! $55,000 - $50,000 = $5,000 increase.' },

        { id: 'w2d1t3', week: 2, day: 'Monday', title: 'Data Validation Check', hours: 2.5,
          description: 'Identify errors in the dataset.',
          instructions: 'How many entries have invalid (negative) sales values?',
          data: [['Product', 'Sales'], ['Item A', '500'], ['Item B', '-50'], ['Item C', '300'], ['Item D', '-20'], ['Item E', '750']],
          question: 'How many products have invalid negative sales?', answer: '2', feedback: 'Correct! Item B (-50) and Item D (-20) have invalid values.' },

        { id: 'w2d2t1', week: 2, day: 'Tuesday', title: 'Profit Margin Calculation', hours: 3,
          description: 'Calculate profit margins for products.',
          instructions: 'What is the profit for Product X? (Revenue - Cost)',
          data: [['Product', 'Revenue', 'Cost'], ['Product X', '10000', '6000'], ['Product Y', '8000', '5000']],
          question: 'What is the profit for Product X?', answer: '4000', feedback: 'Correct! $10,000 - $6,000 = $4,000 profit.' },

        { id: 'w2d2t2', week: 2, day: 'Tuesday', title: 'Conversion Rate Analysis', hours: 2.5,
          description: 'Calculate conversion from leads to sales.',
          instructions: 'If there were 200 leads and 50 sales, what is the conversion rate percentage?',
          question: 'What is the conversion rate? (answer as whole number percentage)', answer: '25', feedback: 'Correct! 50 ÷ 200 = 0.25 = 25% conversion rate.' },

        { id: 'w2d2t3', week: 2, day: 'Tuesday', title: 'Inventory Turnover', hours: 2.5,
          description: 'Analyze how quickly inventory sells.',
          instructions: 'Which product has the lowest remaining stock?',
          data: [['Product', 'Stock'], ['Laptop', '25'], ['Mouse', '150'], ['Keyboard', '75'], ['Monitor', '10']],
          question: 'Which product has the lowest stock?', answer: 'Monitor', feedback: 'Correct! Monitor has only 10 units remaining.' },

        { id: 'w2d3t1', week: 2, day: 'Wednesday', title: 'Customer Retention Rate', hours: 3,
          description: 'Calculate how many customers return.',
          instructions: 'How many customers made repeat purchases?',
          data: [['Customer', 'Purchases'], ['C001', '3'], ['C002', '1'], ['C003', '2'], ['C004', '1'], ['C005', '4']],
          question: 'How many customers made more than 1 purchase?', answer: '3', feedback: 'Correct! C001, C003, and C005 made repeat purchases.' },

        { id: 'w2d3t2', week: 2, day: 'Wednesday', title: 'Peak Sales Hour', hours: 2.5,
          description: 'Identify when most sales occur.',
          instructions: 'Which hour had the most transactions?',
          data: [['Hour', 'Transactions'], ['9 AM', '15'], ['12 PM', '45'], ['3 PM', '30'], ['6 PM', '25']],
          question: 'Which hour had the highest number of transactions?', answer: '12 PM', feedback: 'Correct! 12 PM had 45 transactions, the highest.' },

        { id: 'w2d3t3', week: 2, day: 'Wednesday', title: 'Product Return Analysis', hours: 2.5,
          description: 'Analyze which products get returned most.',
          instructions: 'What percentage of laptops were returned? (Returns ÷ Sales)',
          data: [['Product', 'Sales', 'Returns'], ['Laptop', '100', '5']],
          question: 'What percentage of laptops were returned? (whole number)', answer: '5', feedback: 'Correct! 5 ÷ 100 = 5% return rate.' },

        { id: 'w2d4t1', week: 2, day: 'Thursday', title: 'Revenue Forecast', hours: 3,
          description: 'Project future revenue based on trends.',
          instructions: 'If revenue grows by $1000 each month, what will Month 4 revenue be?',
          data: [['Month', 'Revenue'], ['Month 1', '10000'], ['Month 2', '11000'], ['Month 3', '12000']],
          question: 'What will Month 4 revenue be?', answer: '13000', feedback: 'Correct! Following the $1000/month pattern: $13,000.' },

        { id: 'w2d4t2', week: 2, day: 'Thursday', title: 'Market Share Analysis', hours: 2.5,
          description: 'Calculate company market position.',
          instructions: 'What is our market share percentage? (Our Sales ÷ Total Market)',
          data: [['Company', 'Sales'], ['Us', '25000'], ['Competitor A', '30000'], ['Competitor B', '20000'], ['Competitor C', '25000']],
          question: 'What is our market share percentage? (whole number)', answer: '25', feedback: 'Correct! 25,000 ÷ 100,000 = 25% market share.' },

        { id: 'w2d4t3', week: 2, day: 'Thursday', title: 'Seasonal Trends', hours: 2.5,
          description: 'Identify seasonal patterns in sales.',
          instructions: 'Which quarter had the highest sales?',
          data: [['Quarter', 'Sales'], ['Q1', '75000'], ['Q2', '85000'], ['Q3', '70000'], ['Q4', '95000']],
          question: 'Which quarter had the highest sales?', answer: 'Q4', feedback: 'Correct! Q4 had the highest sales at $95,000.' },

        { id: 'w2d5t1', week: 2, day: 'Friday', title: 'Department Performance Comparison', hours: 4,
          description: 'Compare performance across departments.',
          instructions: 'Which department has the highest revenue per employee?',
          data: [['Department', 'Revenue', 'Employees'], ['Sales', '100000', '10'], ['Marketing', '60000', '5'], ['Support', '40000', '8']],
          question: 'Which department has the highest revenue per employee?', answer: 'Marketing', feedback: 'Correct! Marketing: $60,000 ÷ 5 = $12,000 per employee (highest).' },

        { id: 'w2d5t2', week: 2, day: 'Friday', title: 'Cost Reduction Opportunities', hours: 2,
          description: 'Identify where costs can be reduced.',
          instructions: 'Which expense category costs the most?',
          data: [['Category', 'Cost'], ['Rent', '5000'], ['Salaries', '25000'], ['Marketing', '8000'], ['Utilities', '2000']],
          question: 'Which expense category has the highest cost?', answer: 'Salaries', feedback: 'Correct! Salaries at $25,000 is the highest expense.' },

        { id: 'w2d5t3', week: 2, day: 'Friday', title: 'Week 2 Summary Review', hours: 2,
          description: 'Review your progress.',
          instructions: 'How many weeks of training have you completed so far?',
          question: 'How many weeks have you completed?', answer: '2', feedback: 'Correct! You\'ve completed 2 weeks. Halfway there!' },

        // ========== WEEK 3 - 40 HOURS ==========
        { id: 'w3d1t1', week: 3, day: 'Monday', title: 'Advanced Filtering Techniques', hours: 3,
          description: 'Filter data using multiple criteria.',
          instructions: 'How many sales in the North region exceeded $1000?',
          data: [['Region', 'Sales'], ['North', '1500'], ['South', '800'], ['North', '500'], ['North', '1200'], ['East', '1100']],
          question: 'How many North region sales exceeded $1000?', answer: '2', feedback: 'Correct! Two North sales over $1000: $1500 and $1200.' },

        { id: 'w3d1t2', week: 3, day: 'Monday', title: 'Correlation Analysis', hours: 2.5,
          description: 'Identify relationships between variables.',
          instructions: 'As advertising spend increases, what happens to sales?',
          data: [['Ad Spend', 'Sales'], ['1000', '10000'], ['2000', '15000'], ['3000', '20000']],
          question: 'Do sales increase, decrease, or stay the same as ad spend increases?', answer: 'increase', feedback: 'Correct! Sales increase as advertising spending increases.' },

        { id: 'w3d1t3', week: 3, day: 'Monday', title: 'Outlier Detection', hours: 2.5,
          description: 'Identify unusual data points.',
          instructions: 'Which sales value is an outlier (much higher than others)?',
          data: [['Transaction', 'Amount'], ['T1', '100'], ['T2', '150'], ['T3', '5000'], ['T4', '125'], ['T5', '110']],
          question: 'Which transaction is the outlier? (answer: T1, T2, etc.)', answer: 'T3', feedback: 'Correct! T3 at $5000 is significantly higher than others.' },

        { id: 'w3d2t1', week: 3, day: 'Tuesday', title: 'Cohort Analysis', hours: 3,
          description: 'Analyze groups of customers over time.',
          instructions: 'How many customers from January are still active?',
          data: [['Customer', 'Join Month', 'Status'], ['C001', 'January', 'Active'], ['C002', 'January', 'Inactive'], ['C003', 'January', 'Active'], ['C004', 'February', 'Active']],
          question: 'How many January customers are still active?', answer: '2', feedback: 'Correct! C001 and C003 joined in January and are still active.' },

        { id: 'w3d2t2', week: 3, day: 'Tuesday', title: 'Churn Rate Calculation', hours: 2.5,
          description: 'Calculate customer attrition rate.',
          instructions: 'If you started with 100 customers and lost 15, what is the churn rate percentage?',
          question: 'What is the churn rate? (whole number percentage)', answer: '15', feedback: 'Correct! 15 ÷ 100 = 15% churn rate.' },

        { id: 'w3d2t3', week: 3, day: 'Tuesday', title: 'Product Mix Analysis', hours: 2.5,
          description: 'Analyze the variety of products sold.',
          instructions: 'What percentage of total sales comes from Laptops?',
          data: [['Product', 'Sales'], ['Laptop', '40000'], ['Mouse', '10000'], ['Keyboard', '20000'], ['Monitor', '30000']],
          question: 'What percentage of sales comes from Laptops? (whole number)', answer: '40', feedback: 'Correct! $40,000 ÷ $100,000 = 40%.' },

        { id: 'w3d3t1', week: 3, day: 'Wednesday', title: 'Break-even Analysis', hours: 3,
          description: 'Calculate when costs equal revenue.',
          instructions: 'If fixed costs are $5000 and you make $50 profit per unit, how many units to break even?',
          question: 'How many units needed to break even?', answer: '100', feedback: 'Correct! $5000 ÷ $50 = 100 units to break even.' },

        { id: 'w3d3t2', week: 3, day: 'Wednesday', title: 'Customer Lifetime Value', hours: 2.5,
          description: 'Calculate total value of a customer.',
          instructions: 'If a customer spends $100/month for 12 months, what is their lifetime value?',
          question: 'What is the customer lifetime value?', answer: '1200', feedback: 'Correct! $100 × 12 months = $1200 lifetime value.' },

        { id: 'w3d3t3', week: 3, day: 'Wednesday', title: 'Geographic Performance', hours: 2.5,
          description: 'Compare performance across locations.',
          instructions: 'Which state generated the most revenue?',
          data: [['State', 'Revenue'], ['California', '150000'], ['Texas', '120000'], ['New York', '180000'], ['Florida', '100000']],
          question: 'Which state had the highest revenue?', answer: 'New York', feedback: 'Correct! New York generated $180,000, the highest.' },

        { id: 'w3d4t1', week: 3, day: 'Thursday', title: 'Sales Pipeline Analysis', hours: 3,
          description: 'Analyze stages of the sales process.',
          instructions: 'How many leads made it to the "Closed Won" stage?',
          data: [['Lead', 'Stage'], ['L001', 'Closed Won'], ['L002', 'Closed Lost'], ['L003', 'Closed Won'], ['L004', 'Negotiation'], ['L005', 'Closed Won']],
          question: 'How many deals were "Closed Won"?', answer: '3', feedback: 'Correct! L001, L003, and L005 were Closed Won.' },

        { id: 'w3d4t2', week: 3, day: 'Thursday', title: 'Inventory Optimization', hours: 2.5,
          description: 'Determine optimal stock levels.',
          instructions: 'Which product needs restocking first (below 20 units)?',
          data: [['Product', 'Current Stock', 'Reorder Point'], ['Item A', '25', '20'], ['Item B', '15', '20'], ['Item C', '30', '20']],
          question: 'Which product is below the reorder point?', answer: 'Item B', feedback: 'Correct! Item B at 15 units is below the 20-unit reorder point.' },

        { id: 'w3d4t3', week: 3, day: 'Thursday', title: 'Price Elasticity', hours: 2.5,
          description: 'Analyze how price changes affect demand.',
          instructions: 'When price decreased from $100 to $80, did units sold increase or decrease?',
          data: [['Price', 'Units Sold'], ['100', '50'], ['80', '75']],
          question: 'Did units sold increase or decrease after the price drop?', answer: 'increase', feedback: 'Correct! Units increased from 50 to 75 when price dropped.' },

        { id: 'w3d5t1', week: 3, day: 'Friday', title: 'Comprehensive Dashboard Metrics', hours: 4,
          description: 'Compile key performance indicators.',
          instructions: 'What is the total revenue across all regions?',
          data: [['Region', 'Revenue'], ['North', '50000'], ['South', '45000'], ['East', '60000'], ['West', '55000']],
          question: 'What is the total revenue?', answer: '210000', feedback: 'Correct! Total revenue = $210,000.' },

        { id: 'w3d5t2', week: 3, day: 'Friday', title: 'Trend Projection', hours: 2,
          description: 'Project future trends based on data.',
          instructions: 'If sales grow 10% each month, what will next month\'s sales be?',
          data: [['Month', 'Sales'], ['Current', '10000']],
          question: 'What will next month\'s sales be?', answer: '11000', feedback: 'Correct! $10,000 + 10% = $11,000.' },

        { id: 'w3d5t3', week: 3, day: 'Friday', title: 'Week 3 Summary Review', hours: 2,
          description: 'Review your advanced analytics skills.',
          instructions: 'How many weeks remain in your training?',
          question: 'How many weeks of training remain?', answer: '1', feedback: 'Correct! Just 1 week left. You\'re almost done!' },

        // ========== WEEK 4 - 40 HOURS ==========
        { id: 'w4d1t1', week: 4, day: 'Monday', title: 'Executive Summary Creation', hours: 3,
          description: 'Create high-level summaries for leadership.',
          instructions: 'What is the average revenue across all quarters?',
          data: [['Quarter', 'Revenue'], ['Q1', '100000'], ['Q2', '120000'], ['Q3', '110000'], ['Q4', '130000']],
          question: 'What is the average quarterly revenue?', answer: '115000', feedback: 'Correct! Average = 460,000 ÷ 4 = $115,000.' },

        { id: 'w4d1t2', week: 4, day: 'Monday', title: 'ROI Analysis', hours: 2.5,
          description: 'Calculate return on investment.',
          instructions: 'If we invested $10,000 and earned $15,000, what is the ROI percentage?',
          question: 'What is the ROI? (whole number percentage)', answer: '50', feedback: 'Correct! (15,000 - 10,000) ÷ 10,000 = 50% ROI.' },

        { id: 'w4d1t3', week: 4, day: 'Monday', title: 'Competitive Benchmarking', hours: 2.5,
          description: 'Compare performance against competitors.',
          instructions: 'How much more revenue did the leader make than us?',
          data: [['Company', 'Revenue'], ['Us', '500000'], ['Leader', '750000'], ['Competitor B', '450000']],
          question: 'How much more revenue did the leader make?', answer: '250000', feedback: 'Correct! $750,000 - $500,000 = $250,000 difference.' },

        { id: 'w4d2t1', week: 4, day: 'Tuesday', title: 'Budget Variance Analysis', hours: 3,
          description: 'Compare actual spending to budget.',
          instructions: 'What is the budget variance for Marketing? (Actual - Budget)',
          data: [['Department', 'Budget', 'Actual'], ['Marketing', '50000', '48000']],
          question: 'What is the variance? (use negative if under budget)', answer: '-2000', feedback: 'Correct! $48,000 - $50,000 = -$2,000 (under budget).' },

        { id: 'w4d2t2', week: 4, day: 'Tuesday', title: 'Performance Scorecard', hours: 2.5,
          description: 'Rate performance across metrics.',
          instructions: 'How many metrics exceeded their target?',
          data: [['Metric', 'Target', 'Actual'], ['Sales', '100', '110'], ['Costs', '50', '55'], ['Profit', '50', '60']],
          question: 'How many metrics exceeded target? (Actual > Target)', answer: '2', feedback: 'Correct! Sales and Profit exceeded targets.' },

        { id: 'w4d2t3', week: 4, day: 'Tuesday', title: 'Resource Allocation', hours: 2.5,
          description: 'Optimize distribution of resources.',
          instructions: 'Which department gets the largest budget allocation?',
          data: [['Department', 'Budget'], ['Engineering', '200000'], ['Sales', '150000'], ['Marketing', '180000']],
          question: 'Which department has the largest budget?', answer: 'Engineering', feedback: 'Correct! Engineering at $200,000 has the largest budget.' },

        { id: 'w4d3t1', week: 4, day: 'Wednesday', title: 'Risk Assessment', hours: 3,
          description: 'Evaluate potential risks in data.',
          instructions: 'How many customers are at high risk of churning (satisfaction < 3)?',
          data: [['Customer', 'Satisfaction Score'], ['C001', '5'], ['C002', '2'], ['C003', '4'], ['C004', '1'], ['C005', '3']],
          question: 'How many customers have satisfaction below 3?', answer: '2', feedback: 'Correct! C002 and C004 are at high risk.' },

        { id: 'w4d3t2', week: 4, day: 'Wednesday', title: 'Efficiency Metrics', hours: 2.5,
          description: 'Calculate operational efficiency.',
          instructions: 'What is the cost per unit produced?',
          data: [['Total Cost', 'Units Produced'], ['50000', '1000']],
          question: 'What is the cost per unit?', answer: '50', feedback: 'Correct! $50,000 ÷ 1000 = $50 per unit.' },

        { id: 'w4d3t3', week: 4, day: 'Wednesday', title: 'Quality Control Analysis', hours: 2.5,
          description: 'Monitor product quality metrics.',
          instructions: 'What is the defect rate? (Defects ÷ Total Units)',
          data: [['Total Units', 'Defective Units'], ['1000', '25']],
          question: 'What is the defect rate as a percentage? (whole number)', answer: '3', feedback: 'Correct! 25 ÷ 1000 = 2.5%, rounds to 3%.' },

        { id: 'w4d4t1', week: 4, day: 'Thursday', title: 'Strategic Planning Metrics', hours: 3,
          description: 'Analyze data for strategic decisions.',
          instructions: 'Which product line has the highest growth rate?',
          data: [['Product Line', 'Last Year', 'This Year'], ['Line A', '100000', '120000'], ['Line B', '50000', '70000'], ['Line C', '75000', '82500']],
          question: 'Which product line grew the most? (highest percentage growth)', answer: 'Line B', feedback: 'Correct! Line B grew 40% (highest rate).' },

        { id: 'w4d4t2', week: 4, day: 'Thursday', title: 'Data-Driven Recommendations', hours: 2.5,
          description: 'Make recommendations based on analysis.',
          instructions: 'Based on sales per employee, which team is most productive?',
          data: [['Team', 'Sales', 'Employees'], ['Team A', '500000', '10'], ['Team B', '400000', '5'], ['Team C', '300000', '6']],
          question: 'Which team has the highest sales per employee?', answer: 'Team B', feedback: 'Correct! Team B: $80,000 per employee (highest).' },

        { id: 'w4d4t3', week: 4, day: 'Thursday', title: 'Final Performance Assessment', hours: 2.5,
          description: 'Evaluate overall business performance.',
          instructions: 'What is the net income? (Revenue - Expenses)',
          data: [['Category', 'Amount'], ['Revenue', '1000000'], ['Expenses', '750000']],
          question: 'What is the net income?', answer: '250000', feedback: 'Correct! $1,000,000 - $750,000 = $250,000 net income.' },

        { id: 'w4d5t1', week: 4, day: 'Friday', title: 'Comprehensive Business Review', hours: 4,
          description: 'Complete end-to-end business analysis.',
          instructions: 'Across all departments, what is the total budget?',
          data: [['Department', 'Budget'], ['Sales', '100000'], ['Marketing', '80000'], ['Operations', '120000'], ['HR', '50000']],
          question: 'What is the total budget across all departments?', answer: '350000', feedback: 'Correct! Total budget = $350,000.' },

        { id: 'w4d5t2', week: 4, day: 'Friday', title: 'Training Program Completion', hours: 2,
          description: 'Finalize your training journey.',
          instructions: 'How many total hours of training did you complete?',
          question: 'How many total training hours? (Week 1 + 2 + 3 + 4)', answer: '160', feedback: 'Correct! You completed all 160 hours. Congratulations!' },

        { id: 'w4d5t3', week: 4, day: 'Friday', title: 'Final Review and Certification', hours: 2,
          description: 'Complete your certification requirements.',
          instructions: 'You have completed all training. How many weeks of training?',
          question: 'How many weeks of training did you complete?', answer: '4', feedback: 'Excellent! You\'ve completed all 4 weeks. Check your certificate!' }
      ];

      // Timer for clock in/out
      useEffect(() => {
        let interval;
        if (session.clockedIn && session.startTime) {
          interval = setInterval(() => {
            const elapsed = (Date.now() - session.startTime) / (1000 * 60 * 60);
            setSession(prev => ({ ...prev, currentSessionHours: elapsed }));
          }, 1000);
        }
        return () => clearInterval(interval);
      }, [session.clockedIn, session.startTime]);

      const handleClockIn = () => {
        setSession({ clockedIn: true, startTime: Date.now(), currentSessionHours: 0 });
      };

      const handleClockOut = () => {
        const hoursWorked = session.currentSessionHours;
        const earnings = hoursWorked * user.hourlyRate;
        setUser(prev => ({
          ...prev,
          totalHours: prev.totalHours + hoursWorked,
          totalEarnings: prev.totalEarnings + earnings
        }));
        setSession({ clockedIn: false, startTime: null, currentSessionHours: 0 });
      };

      const startAssessment = () => {
        if (userName.trim()) {
          setUser(prev => ({
            ...prev,
            name: userName.trim(),
            hasStarted: true,
            startDate: new Date().toISOString()
          }));
          setView('assessment');
        }
      };

      const completeAssessment = (score) => {
        let rate = 20;
        if (score >= 8) rate = 25;
        else if (score >= 5) rate = 22;
        setUser(prev => ({ ...prev, hourlyRate: rate, currentWeek: 1 }));
        setView('dashboard');
      };

      const handleTaskSubmit = () => {
        const task = currentTask;
        const userAnswerClean = taskAnswer.trim().toLowerCase();
        const correctAnswerClean = String(task.answer).trim().toLowerCase();
        const correct = userAnswerClean === correctAnswerClean;
        setIsCorrect(correct);
        setShowFeedback(true);
      };

      const completeTask = () => {
        if (!currentTask) return;

        if (isCorrect) {
          const task = currentTask;
          const earnings = task.hours * user.hourlyRate;
          const weekNum = task.week;

          setUser(prev => {
            const updatedCompleted = [...prev.completedTasks, task.id];
            const weekTasks = allTasks.filter(t => t.week === weekNum);
            const completedWeekTasks = updatedCompleted.filter(id => weekTasks.some(t => t.id === id));
            const weekIsComplete = completedWeekTasks.length === weekTasks.length;
            const nextWeek = (weekIsComplete && weekNum < 4) ? (weekNum + 1) : prev.currentWeek;

            if (weekIsComplete && weekNum < 4) {
              setTimeout(() => {
                alert(`Congratulations! You completed Week ${weekNum}. Moving to Week ${weekNum + 1}!`);
              }, 300);
            }

            return {
              ...prev,
              completedTasks: updatedCompleted,
              totalHours: prev.totalHours + task.hours,
              totalEarnings: prev.totalEarnings + earnings,
              currentWeek: nextWeek,
              weeklyHours: {
                ...prev.weeklyHours,
                [weekNum]: (prev.weeklyHours[weekNum] || 0) + task.hours
              }
            };
          });
        }

        setCurrentTask(null);
        setTaskAnswer('');
        setShowFeedback(false);
        setIsCorrect(false);
      };

      // Welcome Screen
      if (view === 'welcome' && !user.hasStarted) {
        return (
          <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8">
            <div className="max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8">
              <h1 className="text-3xl font-bold text-gray-800 mb-4">Data Analytics Training Platform</h1>
              <p className="text-gray-600 mb-6">Welcome to your on-the-job training experience. This platform simulates a real data analytics position where you'll complete tasks, earn wages, and build verifiable experience.</p>
              <div className="bg-blue-50 border border-blue-200 rounded p-4 mb-6">
                <h3 className="font-semibold text-blue-900 mb-2">What You'll Get:</h3>
                <ul className="text-blue-800 space-y-1 text-sm">
                  <li>• 160 hours of hands-on data analytics experience (4 weeks)</li>
                  <li>• Trackable work hours and simulated earnings</li>
                  <li>• Performance-based pay starting at $20-25/hour</li>
                  <li>• Certificate of completion with transcript</li>
                  <li>• Real-world task experience you can discuss in interviews</li>
                </ul>
              </div>
              <div className="space-y-4">
                <input
                  type="text"
                  placeholder="Enter your name"
                  value={userName}
                  onChange={(e) => setUserName(e.target.value)}
                  onKeyDown={(e) => { if (e.key === 'Enter') startAssessment(); }}
                  className="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
                <button
                  onClick={startAssessment}
                  disabled={!userName.trim()}
                  className="w-full bg-blue-600 text-white py-3 rounded font-semibold hover:bg-blue-700 transition disabled:bg-gray-400"
                >
                  Begin Your First Day
                </button>
              </div>
            </div>
          </div>
        );
      }

      // Skills Assessment
      if (view === 'assessment') {
        const AssessmentView = () => {
          const [answers, setAnswers] = useState({});
          const [submitted, setSubmitted] = useState(false);
          const [score, setScore] = useState(0);

          const handleSubmit = () => {
            let correctCount = 0;
            questions.forEach((q, i) => { if (answers[i] === q.correct) correctCount++; });
            setScore(correctCount);
            setSubmitted(true);
          };

          return (
            <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-8">
              <div className="max-w-3xl mx-auto bg-white rounded-lg shadow-lg p-8">
                <h1 className="text-2xl font-bold text-gray-800 mb-2">Skills Assessment</h1>
                {!submitted ? (
                  <p className="text-gray-600 mb-6">Answer these questions to determine your starting hourly rate ($20-25/hour).</p>
                ) : (
                  <div className="mb-6 p-4 bg-blue-50 border border-blue-200 rounded">
                    <p className="font-semibold text-blue-900">Assessment Complete!</p>
                    <p className="text-blue-800">You scored {score} out of {questions.length}. Review your answers below.</p>
                  </div>
                )}

                <div className="space-y-6">
                  {questions.map((item, idx) => {
                    const userAnswer = answers[idx];
                    const correct = userAnswer === item.correct;

                    return (
                      <div key={idx} className="border-b border-gray-200 pb-4">
                        <p className="font-semibold text-gray-800 mb-3">{idx + 1}. {item.q}</p>
                        <div className="space-y-2">
                          {item.options.map((opt, optIdx) => {
                            let bgColor = '', textColor = 'text-gray-700', borderColor = '';
                            if (submitted) {
                              if (optIdx === item.correct) {
                                bgColor = 'bg-green-100';
                                borderColor = 'border-2 border-green-500';
                                textColor = 'text-green-900 font-semibold';
                              } else if (optIdx === userAnswer && !correct) {
                                bgColor = 'bg-red-100';
                                borderColor = 'border-2 border-red-500';
                                textColor = 'text-red-900';
                              }
                            }
                            return (
                              <label key={optIdx} className={`flex items-center space-x-2 p-2 rounded ${bgColor} ${borderColor} ${submitted ? '' : 'cursor-pointer'}`}>
                                <input
                                  type="radio"
                                  name={`q${idx}`}
                                  checked={answers[idx] === optIdx}
                                  onChange={() => !submitted && setAnswers({ ...answers, [idx]: optIdx })}
                                  disabled={submitted}
                                  className="text-blue-600"
                                />
                                <span className={textColor}>
                                  {opt}{submitted && optIdx === item.correct && ' ✓'}{submitted && optIdx === userAnswer && !correct && ' ✗'}
                                </span>
                              </label>
                            );
                          })}
                        </div>
                      </div>
                    );
                  })}
                </div>

                {!submitted ? (
                  <button onClick={handleSubmit} disabled={Object.keys(answers).length < questions.length} className="mt-6 w-full bg-blue-600 text-white py-3 rounded font-semibold hover:bg-blue-700 transition disabled:bg-gray-400">Submit Assessment</button>
                ) : (
                  <button onClick={() => completeAssessment(score)} className="mt-6 w-full bg-green-600 text-white py-3 rounded font-semibold hover:bg-green-700 transition">Continue to Dashboard</button>
                )}
              </div>
            </div>
          );
        };
        return <AssessmentView />;
      }

      // Task Workspace
      if (currentTask) {
        return (
          <div className="min-h-screen bg-gray-50">
            <div className="bg-white shadow">
              <div className="max-w-7xl mx-auto px-4 py-4">
                <button onClick={() => { setCurrentTask(null); setTaskAnswer(''); setShowFeedback(false); }} className="text-blue-600 hover:underline mb-2">← Back to Task List</button>
                <h1 className="text-2xl font-bold text-gray-800">{currentTask.title}</h1>
                <p className="text-gray-600">{currentTask.day} • Week {currentTask.week} • Credits: {currentTask.hours} hours</p>
              </div>
            </div>

            <div className="max-w-7xl mx-auto px-4 py-8">
              <div className="bg-white rounded-lg shadow p-6 mb-6">
                <h3 className="font-semibold text-gray-800 mb-2">Task Description:</h3>
                <p className="text-gray-700 mb-4">{currentTask.description}</p>

                <h3 className="font-semibold text-gray-800 mb-2">Instructions:</h3>
                <p className="text-gray-700 mb-4">{currentTask.instructions}</p>

                {currentTask.data && (
                  <div className="mb-4 overflow-x-auto">
                    <h3 className="font-semibold text-gray-800 mb-2">Dataset:</h3>
                    <table className="min-w-full border border-gray-300">
                      <thead className="bg-gray-100">
                        <tr>{currentTask.data[0].map((h, i) => <th key={i} className="border border-gray-300 px-4 py-2 text-left font-semibold">{h}</th>)}</tr>
                      </thead>
                      <tbody>
                        {currentTask.data.slice(1).map((row, i) => (
                          <tr key={i} className={i % 2 === 0 ? 'bg-white' : 'bg-gray-50'}>
                            {row.map((cell, j) => <td key={j} className="border border-gray-300 px-4 py-2">{cell}</td>)}
                          </tr>
                        ))}
                      </tbody>
                    </table>
                  </div>
                )}

                <div className="border-t border-gray-200 pt-4 mt-4">
                  <h3 className="font-semibold text-gray-800 mb-2">Question:</h3>
                  <p className="text-gray-700 mb-4">{currentTask.question}</p>

                  {!showFeedback ? (
                    <div className="space-y-4">
                      <input type="text" value={taskAnswer} onChange={(e) => setTaskAnswer(e.target.value)} placeholder="Enter your answer" className="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500" />
                      <button onClick={handleTaskSubmit} disabled={!taskAnswer.trim()} className="bg-blue-600 text-white px-6 py-2 rounded font-semibold hover:bg-blue-700 transition disabled:bg-gray-400">Submit Answer</button>
                    </div>
                  ) : (
                    <div className={`p-4 rounded ${isCorrect ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'}`}>
                      <p className={`font-semibold mb-2 ${isCorrect ? 'text-green-900' : 'text-red-900'}`}>{isCorrect ? '✓ Correct!' : '✗ Incorrect'}</p>
                      <p className={isCorrect ? 'text-green-800' : 'text-red-800'}>{currentTask.feedback}</p>
                      {isCorrect && <p className="text-green-700 mt-2">You earned {currentTask.hours} hours (${(currentTask.hours * user.hourlyRate).toFixed(2)})</p>}
                      <button onClick={completeTask} className={`mt-4 px-6 py-2 rounded font-semibold text-white ${isCorrect ? 'bg-green-600 hover:bg-green-700' : 'bg-blue-600 hover:bg-blue-700'}`}>{isCorrect ? 'Continue' : 'Try Another Task'}</button>
                    </div>
                  )}
                </div>
              </div>
            </div>
          </div>
        );
      }

      // Main Dashboard and Views
      const weekTasks = allTasks.filter(t => t.week === user.currentWeek);
      const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'];

      return (
        <div className="min-h-screen bg-gray-50">
          <div className="bg-white shadow">
            <div className="max-w-7xl mx-auto px-4 py-4 sm:flex sm:justify-between sm:items-center">
              <h1 className="text-xl font-bold text-gray-800 mb-2 sm:mb-0">Data Analytics Training</h1>
              <div className="flex gap-2 sm:gap-4 flex-wrap">
                <button onClick={() => setView('dashboard')} className={`${view === 'dashboard' ? 'text-blue-600 font-semibold' : 'text-gray-600'} hover:text-gray-800 text-sm sm:text-base`}>Dashboard</button>
                <button onClick={() => setView('tasks')} className={`${view === 'tasks' ? 'text-blue-600 font-semibold' : 'text-gray-600'} hover:text-gray-800 text-sm sm:text-base`}>Tasks</button>
                <button onClick={() => setView('payroll')} className={`${view === 'payroll' ? 'text-blue-600 font-semibold' : 'text-gray-600'} hover:text-gray-800 text-sm sm:text-base`}>Payroll</button>
                <button onClick={() => setView('certificate')} className={`${view === 'certificate' ? 'text-blue-600 font-semibold' : 'text-gray-600'} hover:text-gray-800 text-sm sm:text-base`}>Certificate</button>
              </div>
            </div>
          </div>

          <div className="max-w-7xl mx-auto px-4 py-8">
            {view === 'dashboard' && (
              <>
                <div className="bg-blue-600 text-white rounded-lg p-6 mb-6">
                  <h2 className="text-2xl font-bold mb-2">Welcome, {user.name}!</h2>
                  <p>Data Analyst Trainee • Week {user.currentWeek} of 4</p>
                </div>

                <div className="bg-white rounded-lg shadow p-6 mb-6">
                  <div className="flex items-center justify-between flex-wrap gap-4">
                    <div>
                      <h3 className="text-lg font-semibold text-gray-800 mb-1">Time Clock</h3>
                      {session.clockedIn ? <p className="text-gray-600">Currently working: {session.currentSessionHours.toFixed(2)} hours</p> : <p className="text-gray-600">Ready to start your shift?</p>}
                    </div>
                    {!session.clockedIn ? (
                      <button onClick={handleClockIn} className="bg-green-600 text-white px-6 py-3 rounded font-semibold hover:bg-green-700 transition flex items-center gap-2"><Clock size={20} />Clock In</button>
                    ) : (
                      <button onClick={handleClockOut} className="bg-red-600 text-white px-6 py-3 rounded font-semibold hover:bg-red-700 transition flex items-center gap-2"><Clock size={20} />Clock Out</button>
                    )}
                  </div>
                </div>

                <div className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                  <div className="bg-white rounded-lg shadow p-6">
                    <div className="flex items-center gap-3 mb-2"><DollarSign className="text-green-600" size={24} /><h3 className="font-semibold text-gray-700">Hourly Rate</h3></div>
                    <p className="text-3xl font-bold text-gray-800">${user.hourlyRate.toFixed(2)}</p>
                    <p className="text-sm text-gray-500 mt-1">per hour</p>
                  </div>
                  <div className="bg-white rounded-lg shadow p-6">
                    <div className="flex items-center gap-3 mb-2"><Calendar className="text-blue-600" size={24} /><h3 className="font-semibold text-gray-700">Total Hours</h3></div>
                    <p className="text-3xl font-bold text-gray-800">{user.totalHours.toFixed(2)}</p>
                    <p className="text-sm text-gray-500 mt-1">of 160 hours</p>
                  </div>
                  <div className="bg-white rounded-lg shadow p-6">
                    <div className="flex items-center gap-3 mb-2"><Award className="text-purple-600" size={24} /><h3 className="font-semibold text-gray-700">Total Earnings</h3></div>
                    <p className="text-3xl font-bold text-gray-800">${user.totalEarnings.toFixed(2)}</p>
                    <p className="text-sm text-gray-500 mt-1">simulated earnings</p>
                  </div>
                </div>

                <div className="bg-white rounded-lg shadow p-6">
                  <h3 className="text-lg font-semibold text-gray-800 mb-4">Ready to Work?</h3>
                  <p className="text-gray-600 mb-4">View your tasks to begin working. Each completed task adds hours and earnings to your total.</p>
                  <button onClick={() => setView('tasks')} className="bg-blue-600 text-white px-6 py-2 rounded font-semibold hover:bg-blue-700 transition">View Week {user.currentWeek} Tasks</button>
                </div>
              </>
            )}

            {view === 'tasks' && (
              <div>
                <h2 className="text-2xl font-bold text-gray-800 mb-6">Week {user.currentWeek} Tasks</h2>
                {days.map(day => {
                  const dayTasks = weekTasks.filter(t => t.day === day);
                  const dayCompleted = dayTasks.filter(t => user.completedTasks.includes(t.id)).length;
                  const dayHours = dayTasks.reduce((sum, t) => sum + t.hours, 0);

                  return (
                    <div key={day} className="bg-white rounded-lg shadow p-6 mb-4">
                      <div className="flex justify-between items-center mb-4 flex-wrap gap-2">
                        <h3 className="text-xl font-semibold text-gray-800">{day}</h3>
                        <span className="text-sm text-gray-600">{dayCompleted}/{dayTasks.length} completed • {dayHours} hours</span>
                      </div>
                      <div className="space-y-3">
                        {dayTasks.map(task => {
                          const completed = user.completedTasks.includes(task.id);
                          return (
                            <div key={task.id} className="flex items-center justify-between p-4 border border-gray-200 rounded hover:bg-gray-50 flex-wrap gap-3">
                              <div className="flex items-center gap-3 flex-1">
                                {completed ? <CheckCircle className="text-green-600 flex-shrink-0" size={24} /> : <Circle className="text-gray-400 flex-shrink-0" size={24} />}
                                <div className="flex-1 min-w-0">
                                  <p className="font-semibold text-gray-800">{task.title}</p>
                                  <p className="text-sm text-gray-600 truncate">{task.description}</p>
                                </div>
                              </div>
                              <div className="text-right">
                                <p className="text-sm font-semibold text-gray-700">{task.hours} hours</p>
                                {!completed && <button onClick={() => setCurrentTask(task)} className="mt-2 bg-blue-600 text-white px-4 py-1 rounded text-sm hover:bg-blue-700">Start</button>}
                                {completed && <span className="text-sm text-green-600">✓ Done</span>}
                              </div>
                            </div>
                          );
                        })}
                      </div>
                    </div>
                  );
                })}
              </div>
            )}

            {view === 'payroll' && (
              <div className="bg-white rounded-lg shadow p-6">
                <h2 className="text-2xl font-bold text-gray-800 mb-6">Payroll Summary</h2>
                <div className="space-y-4">
                  <div className="flex justify-between py-3 border-b">
                    <span className="text-gray-600">Current Hourly Rate:</span>
                    <span className="font-semibold text-gray-800">${user.hourlyRate.toFixed(2)}/hour</span>
                  </div>
                  <div className="flex justify-between py-3 border-b">
                    <span className="text-gray-600">Total Hours Worked:</span>
                    <span className="font-semibold text-gray-800">{user.totalHours.toFixed(2)} hours</span>
                  </div>
                  <div className="flex justify-between py-3 border-b">
                    <span className="text-gray-600">Total Earnings:</span>
                    <span className="font-semibold text-green-600 text-xl">${user.totalEarnings.toFixed(2)}</span>
                  </div>
                </div>
                <div className="mt-6">
                  <h3 className="font-semibold text-gray-800 mb-3">Weekly Breakdown:</h3>
                  {[1, 2, 3, 4].map(week => (
                    <div key={week} className="flex justify-between py-2 border-b">
                      <span className="text-gray-600">Week {week}:</span>
                      <span className="text-gray-800">{user.weeklyHours[week].toFixed(2)} hours (${(user.weeklyHours[week] * user.hourlyRate).toFixed(2)})</span>
                    </div>
                  ))}
                </div>
                <div className="mt-6 bg-gray-50 p-4 rounded">
                  <p className="text-sm text-gray-600">Note: These are simulated earnings for training purposes. Complete all 4 weeks (160 hours) to receive your certificate.</p>
                </div>
              </div>
            )}

            {view === 'certificate' && (
              <div className="bg-white rounded-lg shadow p-6">
                <h2 className="text-2xl font-bold text-gray-800 mb-4">Certificate of Completion</h2>
                {user.totalHours >= 160 ? (
                  <div className="border-4 border-blue-600 p-8 text-center">
                    <h3 className="text-3xl font-bold text-gray-800 mb-4">Certificate of Completion</h3>
                    <p className="text-xl mb-2">This certifies that</p>
                    <p className="text-2xl font-bold text-blue-600 mb-4">{user.name}</p>
                    <p className="text-lg mb-4">has successfully completed</p>
                    <p className="text-xl font-semibold mb-2">Data Analytics On-the-Job Training Program</p>
                    <div className="my-6 space-y-2">
                      <p className="text-gray-700">Total Hours: <span className="font-semibold">{user.totalHours.toFixed(2)} hours</span></p>
                      <p className="text-gray-700">Hourly Rate: <span className="font-semibold">${user.hourlyRate.toFixed(2)}/hour</span></p>
                      <p className="text-gray-700">Tasks Completed: <span className="font-semibold">{user.completedTasks.length} of {allTasks.length}</span></p>
                      <p className="text-gray-700">Simulated Earnings: <span className="font-semibold">${user.totalEarnings.toFixed(2)}</span></p>
                    </div>
                    <p className="text-sm text-gray-600 mt-6">Completion Date: {new Date().toLocaleDateString()}</p>
                    <p className="text-xs text-gray-500 mt-4">This certificate demonstrates hands-on experience in data analytics tasks including data cleaning, analysis, visualization, and reporting.</p>
                  </div>
                ) : (
                  <div className="bg-gray-100 p-6 rounded text-center">
                    <p className="text-gray-600 mb-4">Complete all 4 weeks (160 hours) to earn your certificate.</p>
                    <p className="text-lg font-semibold text-gray-800 mb-2">Progress: {user.totalHours.toFixed(2)} / 160 hours</p>
                    <div className="w-full bg-gray-300 rounded-full h-4 mt-4">
                      <div className="bg-blue-600 h-4 rounded-full transition-all" style={{ width: `${Math.min((user.totalHours / 160) * 100, 100)}%` }}></div>
                    </div>
                    <p className="text-sm text-gray-600 mt-4">{user.completedTasks.length} of {allTasks.length} tasks completed</p>
                  </div>
                )}
              </div>
            )}
          </div>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<DataAnalyticsTraining />);
  </script>
</body>
</html>
